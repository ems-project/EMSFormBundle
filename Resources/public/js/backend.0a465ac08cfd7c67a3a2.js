!function(e){var n={};function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(a,r,function(n){return e[n]}.bind(null,r));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=169)}({169:function(e,n,t){"use strict";function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}t.r(n);var r={id:!1,domains:[]},o=function(){function e(n){var t=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e);var a=Object.assign({},r,n);this.domains=a.domains,this.id=a.id,this.lang=document.documentElement.lang,this.basePath=window.location.pathname.replace(/\/iframe\/.*/g,""),!1!==this.id&&window.addEventListener("message",function(e){return t.onMessage(e)})}var n,t,o;return n=e,o=[{key:"jsonParse",value:function(e){try{return JSON.parse(e)}catch(e){return!1}}},{key:"onResponse",value:function(e,n,t){200===n.status&&t.source.postMessage(n.responseText,t.origin)}},{key:"urlEncodeData",value:function(e){var n=[];for(var t in e)n.push(encodeURI(t.concat("=").concat(e[t])));return n.join("&")}},{key:"addHashCashHeader",value:function(e,n){if("token"in e){var t=e.token;n.setRequestHeader("x-hashcash",[t.hash,t.nonce,t.data].join("|"))}}}],(t=[{key:"onMessage",value:function(n){if(this.domains.includes(n.origin)){var t=e.jsonParse(n.data);if(t){var a=new XMLHttpRequest;switch(a.addEventListener("load",function(t){return e.onResponse(t,a,n)}),t.instruction){case"form":a.open("GET",this.basePath+"/form/"+this.id+"/"+this.lang),a.setRequestHeader("Content-Type","application/json"),a.send();break;case"submit":a.open("POST",this.basePath+"/form/"+this.id+"/"+this.lang),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.addHashCashHeader(t,a),a.send(e.urlEncodeData(t.form));break;case"dynamic":a.open("POST",this.basePath+"/ajax/"+this.id+"/"+this.lang),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.addHashCashHeader(t,a),a.send(e.urlEncodeData(t.data));break;default:return}}}}}])&&a(n.prototype,t),o&&a(n,o),e}();function i(){var e=document.head.querySelector('meta[property="id"]'),n=document.head.querySelector('meta[property="domains"]');new o({id:e.dataset.id,domains:JSON.parse(n.dataset.list)})}t.d(n,"onLoad",function(){return i}),document.addEventListener("DOMContentLoaded",i)}});